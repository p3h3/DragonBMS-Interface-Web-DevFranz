import gui_elements from"./gui_elements";import SVGInject from"@iconfu/svg-inject";export default class vehicleModel extends gui_elements{expectedDataLabels=["torqueFL","torqueFR","torqueRL","torqueRR","rpmFL","rpmFR","rpmRL","rpmRR","tempFL","tempFR","tempRL","tempRR"];constructor(){super(),SVGInject(document.getElementsByClassName("vehicle-model-image")),this.torqueGaugeFL=new torqueGauge("vehicle-model-torque-fl"),this.torqueGaugeFR=new torqueGauge("vehicle-model-torque-fr"),this.torqueGaugeRL=new torqueGauge("vehicle-model-torque-rl"),this.torqueGaugeRR=new torqueGauge("vehicle-model-torque-rr")}initDataDistribution(e){this.dd=e,this.dd.addExpectedDataLabels(this.expectedDataLabels),this.dd.registerExpecterUpdate(e=>{this.updateOnDataInput(e)})}updateOnDataInput(e){var t;void 0!==e.torqueFL&&(void 0!==e.rpmFL?(t=e.rpmFL<0?"backward":"forward",this.torqueGaugeFL.setTorqueDirection(e.torqueFL,t)):this.torqueGaugeFL.setTorqueDirection(e.torqueFL,"forward")),void 0!==e.torqueFR&&(void 0!==e.rpmFR?(t=e.rpmFR<0?"backward":"forward",this.torqueGaugeFR.setTorqueDirection(e.torqueFR,t)):this.torqueGaugeFR.setTorqueDirection(e.torqueFR,"forward")),void 0!==e.torqueRL&&(void 0!==e.rpmRL?(t=e.rpmRL<0?"backward":"forward",this.torqueGaugeRL.setTorqueDirection(e.torqueRL,t)):this.torqueGaugeRL.setTorqueDirection(e.torqueRL,"forward")),void 0!==e.torqueRR&&(void 0!==e.rpmRR?(t=e.rpmRR<0?"backward":"forward",this.torqueGaugeRR.setTorqueDirection(e.torqueRR,t)):this.torqueGaugeRR.setTorqueDirection(e.torqueRR,"forward"))}}class torqueGauge{forward="forward";backward="backward";constructor(e){e=document.getElementsByClassName(e);if(2===e.length)for(var t of e)t.classList.contains("vehicle-model-torque-positive")&&(this.positiveGauge=t),t.classList.contains("vehicle-model-torque-negative")&&(this.negativeGauge=t)}setTorqueDirection(e,t){t===this.forward&&(this.positiveGauge.classList.remove("vehicle-model-negative-bg"),this.positiveGauge.classList.add("vehicle-model-positive-bg"),this.negativeGauge.classList.remove("vehicle-model-positive-bg"),this.negativeGauge.classList.add("vehicle-model-negative-bg"),0<=e&&(this.negativeGauge.style.backgroundSize="0 0",this.positiveGauge.style.backgroundSize="100% "+e+"%"),e<0)&&(this.positiveGauge.style.backgroundSize="0 0",this.negativeGauge.style.backgroundSize="100% "+-e+"%"),t===this.backward&&(this.positiveGauge.classList.remove("vehicle-model-positive-bg"),this.positiveGauge.classList.add("vehicle-model-negative-bg"),this.negativeGauge.classList.remove("vehicle-model-negative-bg"),this.negativeGauge.classList.add("vehicle-model-positive-bg"),0<=e&&(this.negativeGauge.style.backgroundSize="0 0",this.positiveGauge.style.backgroundSize="100% "+e+"%"),e<0)&&(this.positiveGauge.style.backgroundSize="0",this.negativeGauge.style.backgroundSize="100% "+-e+"%")}}