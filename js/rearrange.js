import sf from"./helpers/small_functions";import{zoom}from"./helpers/zoom";import gui from"./gui";let selected_cell=null;export default class rearrangeManager extends gui{tileMoveMode=!1;constructor(e){super(),this.bmsObj=e,this.addEventListeners()}addEventListeners(){this.table.addEventListener("click",e=>{this.tableEventListener(e.target)}),sf.getId("capture-mode-table").addEventListener("click",e=>{this.tableEventListener(e.target)}),this.table.addEventListener("dblclick",e=>{let t=e.target;for(;void 0!==t&&!t.classList.contains("main-table-td-2row");)t=t.parentNode;zoom.to({element:t,padding:0,pan:!1}),this.hideAllSettings()})}toggleTileMoveMode(){this.tileMoveMode=!this.tileMoveMode,this.tileMoveMode?(this.tileBarInterfaceDropdown.classList.add("breathe-good"),this.tileBarEditMode.classList.add("breathe-good")):(this.tileBarInterfaceDropdown.classList.remove("breathe-good"),this.tileBarEditMode.classList.remove("breathe-good"),selected_cell&&(this.bmsObj.isConnected()?selected_cell.classList.remove("disabled"):(selected_cell.classList.add("disabled"),selected_cell.childNodes.forEach(e=>{e===this.inlineGaugeDiv&&selected_cell.classList.remove("disabled")})),selected_cell=null))}tableEventListener(t){if(this.tileMoveMode){let e=t;for(;void 0!==e&&!e.classList.contains("main-table-td-2row");)e=e.parentNode;null==selected_cell?(selected_cell=e).classList.add("disabled"):(this.bmsObj.isConnected()?selected_cell.classList.remove("disabled"):(selected_cell.classList.add("disabled"),selected_cell.childNodes.forEach(e=>{e===this.inlineGaugeDiv&&selected_cell.classList.remove("disabled")})),sf.swap(selected_cell,e),selected_cell=null)}}}