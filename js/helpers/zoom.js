let zoom=function(){let i=300,l=1,o=-1,d=-1,s=-1,r=document.getElementById("zoom-content"),w="transform"in r.style;function a(t,e){var n,i,o=y();t.width=t.width||1,t.height=t.height||1,t.x-=(window.innerWidth-t.width*e)/2,w?1===e?r.style.transform="":(n=o.x+"px "+o.y+"px",i="translate("+-t.x+"px,"+-(t.y-1.85*document.getElementById("tilebar").clientHeight)+"px) scale("+e+")",r.style.transformOrigin=n,r.style.transform=i):1===e?(r.style.position="",r.style.left="",r.style.top="",r.style.width="",r.style.height="",r.style.zoom=""):(r.style.position="relative",r.style.left=-(o.x+t.x)/e+"px",r.style.top=-(o.y+t.y)/e+"px",r.style.width=100*e+"%",r.style.height=100*e+"%",r.style.zoom=e),l=e}function c(){var t=.12*window.innerWidth,e=.12*window.innerHeight,n=y();0<e?window.scroll(n.x,n.y-(1-0/e)*(14/l)):window.innerHeight-e<0&&window.scroll(n.x,n.y+(1-+window.innerHeight/e)*(14/l)),0<t?window.scroll(n.x-(1-0/t)*(14/l),n.y):window.innerWidth-t<0&&window.scroll(n.x+(1-+window.innerWidth/t)*(14/l),n.y)}function y(){return{x:void 0!==window.scrollX?window.scrollX:window.pageXOffset,y:void 0!==window.scrollY?window.scrollY:window.pageYOffset}}return w&&(r.style.transition="transform 300ms ease"),document.addEventListener("keyup",function(t){1!==l&&27===t.keyCode&&zoom.out()}),{to:function(t){var e,n;1!==l?zoom.out():(t.x=t.x||0,t.y=t.y||0,t.element&&(e="number"==typeof t.padding?t.padding:20,n=t.element.getBoundingClientRect(),t.x=n.left-e,t.y=n.top-e,t.width=n.width+2*e,t.height=n.height+2*e),void 0!==t.width&&void 0!==t.height&&(t.scale=Math.max(Math.min(window.innerWidth/t.width,window.innerHeight/t.height),1)),1<t.scale&&(t.x*=t.scale,t.y*=t.scale,t.x=Math.max(t.x,0),t.y=Math.max(t.y,0),a(t,t.scale),!1!==t.pan&&(o=setTimeout(function(){d=setInterval(c,1e3/60)},i)),"function"==typeof t.callback)&&(s=setTimeout(t.callback,i)))},out:function(t){clearTimeout(o),clearInterval(d),clearTimeout(s),a({x:0,y:0},1),t&&"function"==typeof t.callback&&setTimeout(t.callback,i),l=1}}}();exports.zoom=zoom;