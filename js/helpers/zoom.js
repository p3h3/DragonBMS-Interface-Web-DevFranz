let zoom=function(){let e=300,l=1,i=-1,d=-1,s=-1,w="transform"in zoomContent.style;function a(t,o){var n,e,i=m();t.width=t.width||1,t.height=t.height||1,t.x-=(window.innerWidth-t.width*o)/2,w?1===o?(zoomContent.style.transform="",zoomedIn=!1):(zoomedIn=!0,n=i.x+"px "+i.y+"px",e="translate("+-t.x+"px,"+-(t.y-1.85*document.getElementById("tilebar").clientHeight)+"px) scale("+o+")",zoomContent.style.transformOrigin=n,zoomContent.style.transform=e):1===o?(zoomContent.style.position="",zoomContent.style.left="",zoomContent.style.top="",zoomContent.style.width="",zoomContent.style.height="",zoomContent.style.zoom=""):(zoomContent.style.position="relative",zoomContent.style.left=-(i.x+t.x)/o+"px",zoomContent.style.top=-(i.y+t.y)/o+"px",zoomContent.style.width=100*o+"%",zoomContent.style.height=100*o+"%",zoomContent.style.zoom=o),l=o}function r(){var t=.12*window.innerWidth,o=.12*window.innerHeight,n=m();0<o?window.scroll(n.x,n.y-(1-0/o)*(14/l)):window.innerHeight-o<0&&window.scroll(n.x,n.y+(1-+window.innerHeight/o)*(14/l)),0<t?window.scroll(n.x-(1-0/t)*(14/l),n.y):window.innerWidth-t<0&&window.scroll(n.x+(1-+window.innerWidth/t)*(14/l),n.y)}function m(){return{x:void 0!==window.scrollX?window.scrollX:window.pageXOffset,y:void 0!==window.scrollY?window.scrollY:window.pageYOffset}}return w&&(zoomContent.style.transition="transform 300ms ease"),document.addEventListener("keyup",function(t){1!==l&&27===t.keyCode&&zoom.out()}),{to:function(t){var o,n;1!==l?zoom.out():(t.x=t.x||0,t.y=t.y||0,t.element&&(o="number"==typeof t.padding?t.padding:20,n=t.element.getBoundingClientRect(),t.x=n.left-o,t.y=n.top-o,t.width=n.width+2*o,t.height=n.height+2*o),void 0!==t.width&&void 0!==t.height&&(t.scale=Math.max(Math.min(window.innerWidth/t.width,window.innerHeight/t.height),1)),1<t.scale&&(t.x*=t.scale,t.y*=t.scale,t.x=Math.max(t.x,0),t.y=Math.max(t.y,0),a(t,t.scale),!1!==t.pan&&(i=setTimeout(function(){d=setInterval(r,1e3/60)},e)),"function"==typeof t.callback)&&(s=setTimeout(t.callback,e)))},out:function(t){clearTimeout(i),clearInterval(d),clearTimeout(s),a({x:0,y:0},1),t&&"function"==typeof t.callback&&setTimeout(t.callback,e),l=1}}}();