let colorMode="dark";function toggleColorMode(){"dark"===colorMode?colorMode="light":"light"===colorMode?colorMode="custom":"custom"===colorMode&&(colorMode="dark"),localStorage.setItem("lastColorMode",colorMode),adjustColorMode(colorMode)}function adjustColorMode(o){switch(o){case"light":document.getElementsByTagName("link")[1].href="css/index-light.css";break;case"dark":document.getElementsByTagName("link")[1].href="css/index-dark.css";break;case"custom":document.getElementsByTagName("link")[1].href="";break;default:document.getElementsByTagName("link")[1].href="css/index-dark.css"}document.getElementById("interface-foreground-color").parentNode.style.color=interfaceConfig.customColorForeground,document.getElementById("interface-background-color").parentNode.style.color=interfaceConfig.customColorBackground;var o=interfaceConfig.customColorForeground,t=interfaceConfig.customColorBackground,e=interfaceConfig.customColorAccent,r=interfaceConfig.customColorCaptureModeBackground,e=(domRoot.style.setProperty("--background-color",t),domRoot.style.setProperty("--text-color",o),domRoot.style.setProperty("--accent-color",e),domRoot.style.setProperty("--capture-mode-background-color",r),domRoot.style.setProperty("--color-good","green"),domRoot.style.setProperty("--color-bad","red"),domRoot.style.setProperty("--color-warning","orange"),new color(t)),r=(e.scale(.7),domRoot.style.setProperty("--tilebar-background-color",e.getString()),new color(t)),e=(e.scale(1.2),domRoot.style.setProperty("--dropdown-background-color",r.getString()),new color(t)),r=(e.contrast(.5),domRoot.style.setProperty("--gauge-div-border-color",e.getString()),new color(t)),e=(r.contrast(.5),domRoot.style.setProperty("--main-table-grid-color",r.getString()),new color(t)),r=(e.contrast(.5),domRoot.style.setProperty("--config-input-background-color",e.getString()),new color(o)),e=(r.scale(1),domRoot.style.setProperty("--config-input-text-color",r.getString()),new color(t));e.scale(1.5),e.a=.7,domRoot.style.setProperty("--nothing-connected-overlay-background-color",e.getString())}function getCustomForegroundColor(){return document.getElementById("interface-foreground-color").parentNode.style.color}function getCustomBackgroundColor(){return document.getElementById("interface-background-color").parentNode.style.color}function getCustomAccentColor(){return document.getElementById("interface-accent-color").parentNode.style.color}function getCustomCaptureModeBackgroundColor(){return document.getElementById("capture-mode-background-color").parentNode.style.color}document.addEventListener("coloris:pick",o=>{localStorage.setItem("customColorForeground",getCustomForegroundColor()),localStorage.setItem("customColorBackground",getCustomBackgroundColor()),localStorage.setItem("customColorAccent",getCustomAccentColor()),localStorage.setItem("customColorCaptureModeBackground",getCustomCaptureModeBackgroundColor()),updateConfig(),adjustColorMode(interfaceConfig.colorMode)});class color{constructor(o){o.includes("rgb")||console.log("fuck hex colors");o=o.replaceAll(" ","").replaceAll("rgb","").replaceAll("a","").replaceAll("(","").replaceAll(")","").split(",");this.r=parseInt(o[0]),this.g=parseInt(o[1]),this.b=parseInt(o[2]),4===o.length?this.a=parseFloat(o[3]):this.a=1}scale(o){this.r+=Math.floor((1-o)*this.r),this.g+=Math.floor((1-o)*this.g),this.b+=Math.floor((1-o)*this.b),this.containInLimits()}contrast(o){this.r+=Math.floor(o*(128-this.r)),this.g+=Math.floor(o*(128-this.g)),this.b+=Math.floor(o*(128-this.b)),this.containInLimits()}containInLimits(){255<this.r&&(this.r=255),255<this.g&&(this.g=255),255<this.b&&(this.b=255),this.r<0&&(this.r=0),this.g<0&&(this.g=0),this.b<0&&(this.b=0)}getString(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"}}