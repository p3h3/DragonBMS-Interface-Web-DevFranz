let wakeLockObj=null;function handleVisibilityChange(){null!==wakeLockObj&&"visible"===document.visibilityState&&enableWakeLock()}function enableWakeLock(){document.addEventListener("visibilitychange",handleVisibilityChange),document.addEventListener("fullscreenchange",handleVisibilityChange),"keepAwake"in screen?screen.keepAwake=!0:"wakeLock"in navigator&&navigator.wakeLock.request("screen").then(e=>{wakeLockObj=e}).catch(e=>{console.error(e)})}function disableWakeLock(){document.removeEventListener("visibilitychange",handleVisibilityChange),document.removeEventListener("fullscreenchange",handleVisibilityChange),"keepAwake"in screen?screen.keepAwake=!1:"wakeLock"in navigator&&wakeLockObj&&(wakeLockObj.release(),wakeLockObj=null)}