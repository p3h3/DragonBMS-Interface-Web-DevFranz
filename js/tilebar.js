document.getElementById("tileBarConnectBMS").addEventListener("click",()=>{bmsObj.connect()}),document.getElementById("tileBarConnectTacho").addEventListener("click",()=>{tachoObj.connect()}),document.getElementById("tileBarDisconnect").addEventListener("click",()=>{resetAutoconnectBMSSilentInstant(),resetAutoconnectTachoSilentInstant(),bmsObj.disconnect(!0).then(()=>{tachoObj.disconnect()})}),document.getElementById("tileBarBoardInfo").addEventListener("click",()=>{closeCaptureMode(),hideAllSettings(),boardInfoContainer.classList.contains("hidden")?bmsObj.isConnected()&&(boardInfoContainer.classList.remove("hidden"),zoomedIn?zoom.out({callback:()=>{scrollToElement(boardInfoContainer)}}):scrollToElement(boardInfoContainer)):scrollToElement(table)}),document.getElementById("tileBarBoardConfig").addEventListener("click",()=>{closeCaptureMode(),hideAllSettings(),boardConfigContainer.classList.contains("hidden")?bmsObj.isConnected()&&(boardConfigContainer.classList.remove("hidden"),zoomedIn?zoom.out({callback:()=>{scrollToElement(boardConfigContainer)}}):scrollToElement(boardConfigContainer)):scrollToElement(table)}),document.getElementById("tileBarBoardCalib").addEventListener("click",()=>{closeCaptureMode(),hideAllSettings(),boardCalibContainer.classList.contains("hidden")?bmsObj.isConnected()&&(zoomedIn?zoom.out({callback:()=>{boardCalibContainer.classList.remove("hidden"),scrollToElement(boardCalibContainer)}}):(boardCalibContainer.classList.remove("hidden"),scrollToElement(boardCalibContainer))):scrollToElement(table)}),document.getElementById("tileBarTachoConfig").addEventListener("click",()=>{closeCaptureMode(),hideAllSettings(),inlineConfigContainer.classList.contains("hidden")?tachoObj.isConnected()&&(inlineConfigContainer.classList.remove("hidden"),zoomedIn?zoom.out({callback:()=>{scrollToElement(inlineConfigContainer)}}):scrollToElement(inlineConfigContainer)):scrollToElement(table)}),document.getElementById("tileBarSelectDataLoggingFile").addEventListener("click",()=>{bmsObj.isConnected()&&tachoObj.isConnected()||dataLoggingEnabled||((loggingFileObject=new loggingDataFileObject).getHandle().then(()=>{}),loggingDataBuffer=["psn;timestamp;ms_today;u1;u2;u3;uOut;i1;i2;i3;tShunt;tPch;speed;rpm;motorTemp;externTemp;tripOdo;"])}),document.getElementById("tileBarStartDataLogging").addEventListener("click",()=>{!bmsObj.isConnected()&&tachoObj.isConnected()||("undefined"==typeof loggingFileObject||null===loggingFileObject?(loggingFileObject=new loggingDataFileObject).getHandle().then(()=>{loggingDataBuffer=["psn;ms_today;stamp;u1;u2;u3;uOut;i1;i2;i3;tShunt;tPch;speed;rpm;motorTemp;externTemp;tripOdo;"],dataLoggingEnabled=!0,document.getElementById("logging-span").classList.add("recording")}):(dataLoggingEnabled=!0,document.getElementById("logging-span").classList.add("recording")))}),document.getElementById("tileBarStopDataLogging").addEventListener("click",()=>{dataLoggingEnabled&&(dataLoggingEnabled=!1,document.getElementById("logging-span").classList.remove("recording"),loggingFileObject.closeObject(),loggingFileObject=null,loggingDataBuffer=[])}),document.getElementById("tileBarAbout").addEventListener("click",()=>{closeCaptureMode(),interfaceSettingsContainer.classList.contains("hidden")?(disableNothingConnectedOverlay(),zoomedIn?zoom.out({callback:()=>{interfaceSettingsContainerLastSeen=Date.now(),interfaceSettingsContainer.classList.remove("hidden"),interfaceSettingsContainer.scrollIntoView({behavior:"smooth"})}}):(interfaceSettingsContainerLastSeen=Date.now(),interfaceSettingsContainer.classList.remove("hidden"),interfaceSettingsContainer.scrollIntoView({behavior:"smooth"}))):(bmsObj.isDisconnected()&&!tachoObj.isConnected()&&enableNothingConnectedOverlay(),table.scrollIntoView({behavior:"smooth"}),interfaceSettingsContainer.classList.add("hidden"))}),document.getElementById("tileBarDarkmode").addEventListener("click",()=>{toggleColorMode()}),tileBarEditMode.addEventListener("click",()=>{toggleTileMoveMode()}),"mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices?tileBarCaptureMode.addEventListener("click",()=>{hideAllSettings(),captureModeContainer.classList.contains("display-none")?zoomedIn?zoom.out({callback:()=>{activateCaptureMode(),captureModeContainer.scrollIntoView({behavior:"smooth"})}}):(activateCaptureMode(),captureModeContainer.scrollIntoView({behavior:"smooth"})):(closeCaptureMode(),table.scrollIntoView({behavior:"smooth"}))}):tileBarCaptureMode.classList.add("display-none"),isChrome||(table.classList.add("hidden"),nothingConnectedOverlay.classList.add("hidden"),tilebar.classList.add("disabled"),alert("This site is tailored around Progressive Wep App services that are only supported in full by Chrome.\nPlease open this site in Chrome only as we can't ensure functionality otherwise ;)"));