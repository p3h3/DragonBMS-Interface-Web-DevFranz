let dataLoggingEnabled=!1,loggingFileObject;function saveDataLoggingData(){(dataLoggingEnabled||0!==loggingDataBuffer.length)&&(loggingFileObject.saveLoggingData(loggingDataBuffer),loggingDataBuffer=[]),setTimeout(saveDataLoggingData,1e3)}saveDataLoggingData();class loggingDataFileObject extends fileObject{constructor(){super("csv"),this.suggestedFileName=this.getSuggestedFileName(),this.dataBuffer=[]}async getHandle(){await this.getSaveFileHandle(this.suggestedFileName)}saveLoggingData(e){if(this.dataBuffer=this.dataBuffer.concat(e),this.hasFileAccess()){if(void 0===this.writableStream)console.log("initialise object before writing to it");else if(20<this.dataBuffer.length||!dataLoggingEnabled){this.dataBuffer.push("");try{this.writableStream.write(this.dataBuffer.join("\n"))}catch(e){}this.dataBuffer=[]}}else this.dataBuffer.length>1e7/115&&(this.dataBuffer.push(""),this.saveLegacy(this.suggestedFileName,this.dataBuffer),this.dataBuffer=[])}closeObject(){this.hasFileAccess()?void 0===this.writableStream?console.log("initialise object before closing it"):(this.saveLoggingData([]),this.writableStream.close()):this.saveLegacy(this.suggestedFileName,this.dataBuffer)}getSuggestedFileName(){let e="";void 0!==getIdValue("board-config-device-name")&&(e=getIdValue("board-config-device-name"));var t=new Date;return e+t.getFullYear().toString()+"_"+pad2(t.getMonth()+1)+"_"+pad2(t.getDate())+"__"+pad2(t.getHours())+"_"+pad2(t.getMinutes())+"_"+pad2(t.getSeconds())}}