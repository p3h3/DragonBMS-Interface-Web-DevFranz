const bleConnectionStates={disconnected:"disconnected",searching:"searching",connecting:"connecting",connected:"connected"};function inlineConnected(){inlineGaugeDiv.classList.remove("inline-gauge-disabled"),connectTachoOverlay.classList.add("hidden")}function inlineDisconnected(){inlineGaugeDiv.classList.add("inline-gauge-disabled"),connectTachoOverlay.classList.remove("hidden")}function resetAutoconnectBMS(){autoConnectBMSError(),setTimeout(()=>{setValueTexts(autoConnectBMSTexts,"Connect</br>BMS"),classListValueTextsRemove(autoConnectBMSTexts,"fault")},1e3)}function autoConnectBMSError(){autoconnectingBMSText.classList.add("hidden"),autoconnectingBMSText.style.position="",setValueTexts(autoConnectBMSTexts,"Didn't</br>work"),classListValueTextsAdd(autoConnectBMSTexts,"fault")}function setAutoconnectBMSText(e){autoconnectingBMSText.style.position="inherit",autoconnectingBMSText.classList.remove("hidden"),setValueTexts(autoConnectBMSTexts,e)}function resetAutoconnectBMSSilentInstant(){autoconnectingBMSText.classList.add("hidden"),autoconnectingBMSText.style.position="",setValueTexts(autoConnectBMSTexts,"Connect</br>BMS"),classListValueTextsRemove(autoConnectBMSTexts,"fault")}function resetAutoconnectTacho(){autoconnectTachoError(),setTimeout(()=>{setValueTexts(autoConnectTachoTexts,"Connect</br>Tacho"),classListValueTextsRemove(autoConnectTachoTexts,"fault")},1e3)}function resetAutoconnectTachoSilentInstant(){autoconnectingTachoText.classList.add("hidden"),autoconnectingTachoText.style.position="",setValueTexts(autoConnectTachoTexts,"Connect</br>Tacho"),classListValueTextsRemove(autoConnectTachoTexts,"fault")}function autoconnectTachoError(){autoconnectingTachoText.classList.add("hidden"),autoconnectingTachoText.style.position="",setValueTexts(autoConnectTachoTexts,"Didn't</br>work"),classListValueTextsAdd(autoConnectTachoTexts,"fault")}function setAutoconnectTachoText(e){autoconnectingTachoText.style.position="inherit",autoconnectingTachoText.classList.remove("hidden"),setValueTexts(autoConnectTachoTexts,e)}connectBMSOverlayButton.addEventListener("click",()=>{tachoObj.connectionState!==bleConnectionStates.searching&&bmsObj.connect()}),connectTachoOverlayButton.addEventListener("click",()=>{bmsObj.connectionState!==bleConnectionStates.searching&&tachoObj.connect()}),connectTachoOverlay.addEventListener("click",()=>{tachoObj.connect()}),connectBMSOverlay.addEventListener("click",()=>{bmsObj.connect()}),inlineDisconnected();let dotsCounter=0;function dotterBodge(){dotsCounter=(dotsCounter+1)%5,autoconnectingBMSText.innerHTML="Auto-connecting",autoconnectingTachoText.innerHTML="Auto-connecting";for(let e=0;e<dotsCounter;e++)autoconnectingBMSText.innerHTML+=".",autoconnectingTachoText.innerHTML+=".";setTimeout(dotterBodge,200)}function disableNothingConnectedOverlay(){nothingConnectedOverlay.classList.add("disabled"),nothingConnectedOverlay.classList.add("hidden"),autoconnectingTachoText.classList.add("hidden"),autoconnectingBMSText.classList.add("hidden")}function enableNothingConnectedOverlay(){nothingConnectedOverlay.classList.contains("disabled")&&nothingConnectedOverlay.classList.remove("disabled"),nothingConnectedOverlay.classList.contains("hidden")&&nothingConnectedOverlay.classList.remove("hidden")}function resetInlineValues(){dataLoggingBufferInline=[],inlineDataLoggingAveragingBuffer=[],drivenDistanceOffset=-1,maxInlineValueBuffer=[]}function resetBMSValues(){remainingEnergy1=0,remainingEnergy2=0,remainingEnergy3=0,alertBuffer=0,warningBuffer=0,updateWarningFields(),dataLoggingBufferBMS=[],lastUptime=0,countingUptime=0,setOnTime(0),maxValueBuffer=[],hideSettings()}dotterBodge();